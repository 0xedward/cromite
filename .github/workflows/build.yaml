name: Build x86
permissions:
  actions: none
  checks: none
  contents: none
  deployments: none
  issues: none
  packages: none
  pull-requests: none
  repository-projects: none
  security-events: none
  statuses: none
      
on:
  workflow_dispatch:

jobs:
  build:
    runs-on: self-hosted

    services:
      redis:
        image: redis
        options: >-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
    
#    container:
#      image: uazo/chromium:91.0.4472.146
#      options: "--privileged"
#      volumes:
#        - /storage/bromite/91.0.4472.146:/home/lg/working_dir/artifacs
      
    steps:
      - name: Checkout repo
        uses: actions/checkout@v2
      
      - name: Check chromium image
        uses: uazo/bromite-buildtools/images/provide-chr-source@main
        with:
          version: 91.0.4472.146
